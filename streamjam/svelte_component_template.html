<script>
    /*---------- BEGIN: STREAMJAM ----------*/

    import {{ getContext, setContext, onDestroy as __onDestroy }} from "svelte"

    {import_components}

    export let id = {comp_id}

    /* Props */
    {prop_init}

    const __client = getContext("streamjam")
    const __parentId = getContext("__parentId")
    const __hasServer = {has_server}
    const __should_create_component = __hasServer && (!__client.isRestored || !(id in __client.state))
    const __self = __client.newComponent(id, __parentId, __should_create_component, {component_name!r}, {{{prop_dict}}})
    id && setContext("__parentId", id)

    /* Shadow Stores Init */
    {store_init}

    if (__client.state &&  id in __client.state) {{
        {store_from_state}
    }} else {{
        {store_from_props}
    }}

    /* Shadow Stores Reactive Get */
    {store_get}

    /* Shadow Stores Reactive Set */
    {store_set}

    /* Proxy RPCs */
    {rpc_init}

    /* Destroy Component */
    __onDestroy(() => {{
        __client.destroyComponent(__self)
    }})

    /*---------- END: STREAMJAM ----------*/

    {svelte_js}
</script>

{svelte_html_css}